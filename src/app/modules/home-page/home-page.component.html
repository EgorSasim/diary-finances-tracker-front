@if (isLoading$ | async) {
<dft-spinner></dft-spinner>
}

<mat-accordion
  [class.small-width]="panel.expanded"
  class="dft-home-page__task-list"
>
  <mat-expansion-panel #panel>
    <mat-expansion-panel-header>
      <mat-panel-title> {{ "app.todayTasks" | translate }} </mat-panel-title>
    </mat-expansion-panel-header>
    @if ((tasks$ | async)?.length;) {
    <dft-task-list
      [taskItems]="tasks$ | async"
      (completeTask)="completeTask($event)"
      (editTask)="goToTaskEditPage($event)"
      (removeTask)="removeTask($event)"
    ></dft-task-list>
    } @else {
    <span
      >{{ "app.noTodayTasks" | translate }}.
      <button mat-button color="primary" (click)="showCreateTaskModal()">
        {{ "app.createTask" | translate }}
      </button></span
    >
    }
  </mat-expansion-panel>
</mat-accordion>

@if ((notes$ | async)?.length) {
<dft-note-list [noteItems]="notes$ | async"></dft-note-list>
}

<dft-create-entity-menu-button
  class="home-page__add-entity"
  (createTask)="showCreateTaskModal()"
  (createNote)="showCreateNoteModal()"
></dft-create-entity-menu-button>
